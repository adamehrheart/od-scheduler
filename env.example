# ============================================================================
# OPEN DEALER SCHEDULER SERVICE - ENVIRONMENT VARIABLES
# ============================================================================

# Supabase Configuration
OD_SUPABASE_URL=https://your-project.supabase.co
OD_SUPABASE_SERVICE_ROLE=your_service_role_key_here

# API Endpoints
OD_DATA_API_URL=https://od-data-api.vercel.app
OD_SOAP_TRANSFORMER_URL=https://od-soap-transformer.vercel.app
OD_BEARER_TOKEN=your_bearer_token_here

# HomeNet Configuration
OD_HOMENET_INTEGRATION_TOKEN=your_homenet_integration_token
OD_HOMENET_ROOFTOP_COLLECTION=your_rooftop_collection_id

# Apify Configuration (for web scraping)
APIFY_API_URL=https://api.apify.com/v2
APIFY_TOKEN=your_apify_token_here

# API Keys
OD_API_KEY_SECRET=your_api_key_secret_here

# ============================================================================
# OPTIONAL CONFIGURATION
# ============================================================================

# Logging Level (debug, info, warn, error)
LOG_LEVEL=info

# Legacy concurrency limit (for fallback compatibility)
MAX_CONCURRENT_JOBS=5

# Job Timeout (in milliseconds)
JOB_TIMEOUT_MS=300000

# ============================================================================
# TIMEZONE-AWARE SCHEDULING CONFIGURATION
# ============================================================================

# Default concurrency limit (used when priority-specific limits not set)
SCHEDULER_CONCURRENCY_LIMIT=5

# Priority-based concurrency limits for massive scale
SCHEDULER_MAX_CONCURRENT_PREMIUM=20
SCHEDULER_MAX_CONCURRENT_STANDARD=12
SCHEDULER_MAX_CONCURRENT_ECONOMY=8

# Delay between job batches (milliseconds) - prevents overwhelming external APIs
SCHEDULER_BATCH_DELAY_MS=1000

# ============================================================================
# DEALER PRIORITY CONFIGURATION
# ============================================================================

# Dealer priority determination (future enhancement)
# PRIORITY_RULES_JSON={"premium_domains":["example-premium.com"],"economy_domains":["example-trial.com"]}

# Override default timezone detection
# DEFAULT_DEALER_TIMEZONE=America/New_York

# ============================================================================
# MONITORING AND ALERTS
# ============================================================================

# Event system integration (connects to od-cms event bus)
# EVENT_BUS_ENABLED=true
# EVENT_BUS_CHANNEL=opendealer_scheduler_events
# EVENT_BUS_DLQ_CHANNEL=scheduler_dead_letter

# Performance monitoring
# PERFORMANCE_MONITORING_ENABLED=true
# SLOW_JOB_THRESHOLD_MS=30000

# ============================================================================
# DEVELOPMENT ONLY
# ============================================================================

# Enable detailed logging in development
NODE_ENV=development
